import{d as y,T as b,o as d,e as c,b as n,w as u,u as s,m as x,F,Z as B,a as e,g as v,h as P,p as C,v as k,c as V,i as $,n as z,t as f}from"./app-3f1d9cfa.js";import{_ as N}from"./AppLayout-b8bb014a.js";import{_ as g}from"./PrimaryButton-8c89f868.js";import{_ as p}from"./InputLabel-fb9188e8.js";import{a as _,_ as S}from"./TextInput-67d75a28.js";import{P as q}from"./PencilOutline-0d0716bd.js";import{P as I}from"./Plus-c747313b.js";import{_ as M}from"./Modal-a98733ba.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Banner-cc45b51e.js";const E={class:"px-20"},G=e("div",null,"Gestion de annonces",-1),L={class:"mt-10"},R=e("li",{class:"bg-[#cecece] rounded-t-lg py-3 flex justify-evenly items-center text-sm font-medium text-start"},[e("span",{class:"flex-[5] pl-3"}," Contenu "),e("span",{class:"flex-[3]"},"Date de fin "),e("span",{class:"flex-[1]"}," Crée le "),e("span",{class:"flex-[1]"}," Actif "),e("span",{class:"flex-[3] text-center"},"Action ")],-1),Z={class:"flex-[5] pl-3"},H={class:"flex-[3]"},J={class:"flex-[1]"},K={class:"flex-[1] text-center"},O={class:"flex-[3] flex gap-3 text-white justify-center"},Q=["onClick"],W=["onClick","disabled"],X={key:1,class:"bg-[#b7b7b7] rounded-b-lg py-3 flex justify-evenly items-center text-sm font-medium text-start"},Y=["onSubmit"],ee=e("span",{class:"text-2xl font-medium"}," Créer une annonce ",-1),se={class:"mt-4"},te={class:"mt-4"},ne={class:"mt-4"},oe={key:0,style:{"border-top-color":"transparent"},class:"ml-2 w-3 h-3 border-2 border-white border-solid rounded-full animate-spin"},le=["onSubmit"],ae=e("span",{class:"text-2xl font-medium"}," Modifier une annonce ",-1),re={class:"mt-4"},de={class:"mt-4"},ie={class:"mt-4"},ce={key:0,style:{"border-top-color":"transparent"},class:"ml-2 w-3 h-3 border-2 border-white border-solid rounded-full animate-spin"},we={__name:"AnnoncesView",props:{annonces:""},setup(h){let r=y(!1),i=y(!1),a=b({contenu:"",dateFin:""}),l=b({id:"",dateFin:"",contenu:""}),w=b({id:""});const U=m=>{l.id=m.id,l.contenu=m.contenu,l.dateFin=m.dateFin,i.value=!0},A=()=>{a.post(route("annonces.store"),{onSuccess:()=>{a.reset(),r.value=!1}})},D=()=>{l.put(route("annonces.update",l),{onSuccess:()=>{l.reset(),i.value=!1}})};return(m,o)=>(d(),c(F,null,[n(N,null,{default:u(()=>[n(s(B),{title:"Annonces"}),e("div",E,[G,n(g,{onClick:o[0]||(o[0]=t=>x(r)?r.value=!0:r=!0)},{default:u(()=>[v(" Créer une annonce ")]),_:1}),e("ul",L,[R,h.annonces.length>0?(d(!0),c(F,{key:0},P(h.annonces,(t,T)=>(d(),c("li",{class:z(["py-2.5 flex justify- items-center text-sm font-medium hover:bg-[#b7b7b7]",T%2==0?"bg-white":"bg-[#cecece]"])},[e("span",Z,f(t.contenu),1),e("span",H,f(t.created_at.split("T")[0]),1),e("span",J,f(t.created_at.split("T")[0]),1),e("span",K,f(t.actif?"✅":"❌"),1),e("div",O,[e("button",{class:"bg-blue-700 py-2 px-4 self-start rounded-lg",onClick:j=>U(t)}," Modifier ",8,Q),e("button",{onClick:j=>s(w).delete(m.route("annonces.destroy",t.id)),disabled:s(w).processing,class:"bg-red-700 px-4 py-2 self-start rounded-lg disabled:bg-slate-300"}," Supprimer ",8,W)])],2))),256)):(d(),c("li",X," Aucune inscription pour le moment "))])])]),_:1}),n(M,{show:s(r),onClose:o[3]||(o[3]=t=>x(r)?r.value=!1:r=!1)},{default:u(()=>[e("form",{class:"p-10",onSubmit:$(A,["prevent"])},[ee,e("div",se,[n(p,{for:"contenu",value:"Contenu de l'annonce"}),C(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=t=>s(a).contenu=t),class:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm w-full",rows:"3"},null,512),[[k,s(a).contenu]]),n(_,{class:"mt-2",message:s(a).errors.contenu},null,8,["message"])]),e("div",te,[n(p,{for:"dateFin",value:"Date de fin de l'annonce"}),n(S,{id:"dateFin",modelValue:s(a).dateFin,"onUpdate:modelValue":o[2]||(o[2]=t=>s(a).dateFin=t),type:"date",class:"mt-1 block w-full",required:"",autocomplete:"dateFin"},null,8,["modelValue"]),n(_,{class:"mt-2",message:s(a).errors.dateFin},null,8,["message"])]),e("div",ne,[n(g,null,{default:u(()=>[v(" Créer "),s(a).processing?(d(),c("div",oe)):(d(),V(I,{key:1,size:20}))]),_:1})])],40,Y)]),_:1},8,["show"]),n(M,{show:s(i),onClose:o[6]||(o[6]=t=>x(i)?i.value=!1:i=!1)},{default:u(()=>[e("form",{class:"p-10",onSubmit:$(D,["prevent"])},[ae,e("div",re,[n(p,{for:"contenu",value:"Contenu de l'annonce"}),C(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=t=>s(l).contenu=t),class:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm w-full",rows:"3"},null,512),[[k,s(l).contenu]]),n(_,{class:"mt-2",message:s(l).errors.contenu},null,8,["message"])]),e("div",de,[n(p,{for:"dateFin",value:"Date de fin de l'annonce"}),n(S,{id:"dateFin",modelValue:s(l).dateFin,"onUpdate:modelValue":o[5]||(o[5]=t=>s(l).dateFin=t),type:"date",class:"mt-1 block w-full",required:"",autocomplete:"dateFin"},null,8,["modelValue"]),n(_,{class:"mt-2",message:s(l).errors.dateFin},null,8,["message"])]),e("div",ie,[n(g,null,{default:u(()=>[v(" Modifier "),s(l).processing?(d(),c("div",ce)):(d(),V(q,{key:1,size:20}))]),_:1})])],40,le)]),_:1},8,["show"])],64))}};export{we as default};
