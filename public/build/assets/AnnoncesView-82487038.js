import{d as y,T as b,o as d,e as c,b as o,w as u,u as s,m as x,F,Z as B,a as e,g as v,h as P,p as k,v as C,c as V,i as $,n as z,t as f}from"./app-dc519e83.js";import{_ as N}from"./AppLayout-1eab8f8c.js";import{_ as g}from"./PrimaryButton-feab8fd8.js";import{_ as p}from"./InputLabel-8edae622.js";import{a as _,_ as S}from"./TextInput-575ba810.js";import{P as q}from"./PencilOutline-d8c7051d.js";import{P as I}from"./Plus-0535cdbd.js";import{_ as M}from"./Modal-468b812b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Banner-d393d2e5.js";const E={class:"px-20"},L={class:"mt-10"},R=e("li",{class:"bg-[#cecece] rounded-t-lg py-3 flex justify-evenly items-center text-sm font-medium text-start"},[e("span",{class:"flex-[5] pl-3"}," Contenu "),e("span",{class:"flex-[3]"},"Date de fin "),e("span",{class:"flex-[1]"}," Crée le "),e("span",{class:"flex-[1]"}," Actif "),e("span",{class:"flex-[3] text-center"},"Action ")],-1),Z={class:"flex-[5] pl-3"},G={class:"flex-[3]"},H={class:"flex-[1]"},J={class:"flex-[1] text-center"},K={class:"flex-[3] flex gap-3 text-white justify-center"},O=["onClick"],Q=["onClick","disabled"],W={key:1,class:"bg-[#b7b7b7] rounded-b-lg py-3 flex justify-evenly items-center text-sm font-medium text-start"},X=["onSubmit"],Y=e("span",{class:"text-2xl font-medium"}," Créer une annonce ",-1),ee={class:"mt-4"},se={class:"mt-4"},te={class:"mt-4"},oe={key:0,style:{"border-top-color":"transparent"},class:"ml-2 w-3 h-3 border-2 border-white border-solid rounded-full animate-spin"},ne=["onSubmit"],le=e("span",{class:"text-2xl font-medium"}," Modifier une annonce ",-1),ae={class:"mt-4"},re={class:"mt-4"},de={class:"mt-4"},ie={key:0,style:{"border-top-color":"transparent"},class:"ml-2 w-3 h-3 border-2 border-white border-solid rounded-full animate-spin"},he={__name:"AnnoncesView",props:{annonces:""},setup(h){let r=y(!1),i=y(!1),a=b({contenu:"",dateFin:""}),l=b({id:"",dateFin:"",contenu:""}),w=b({id:""});const U=m=>{l.id=m.id,l.contenu=m.contenu,l.dateFin=m.dateFin,i.value=!0},A=()=>{a.post(route("annonces.store"),{onSuccess:()=>{a.reset(),r.value=!1}})},D=()=>{l.put(route("annonces.update",l),{onSuccess:()=>{l.reset(),i.value=!1}})};return(m,n)=>(d(),c(F,null,[o(N,null,{default:u(()=>[o(s(B),{title:"Annonces"}),e("div",E,[o(g,{onClick:n[0]||(n[0]=t=>x(r)?r.value=!0:r=!0)},{default:u(()=>[v(" Créer une annonce ")]),_:1}),e("ul",L,[R,h.annonces.length>0?(d(!0),c(F,{key:0},P(h.annonces,(t,T)=>(d(),c("li",{class:z(["py-2.5 flex justify- items-center text-sm font-medium hover:bg-[#b7b7b7]",T%2==0?"bg-white":"bg-[#cecece]"])},[e("span",Z,f(t.contenu),1),e("span",G,f(t.created_at.split("T")[0]),1),e("span",H,f(t.created_at.split("T")[0]),1),e("span",J,f(t.actif?"✅":"❌"),1),e("div",K,[e("button",{class:"bg-blue-700 py-2 px-4 self-start rounded-lg",onClick:j=>U(t)}," Modifier ",8,O),e("button",{onClick:j=>s(w).delete(m.route("annonces.destroy",t.id)),disabled:s(w).processing,class:"bg-red-700 px-4 py-2 self-start rounded-lg disabled:bg-slate-300"}," Supprimer ",8,Q)])],2))),256)):(d(),c("li",W," Aucune inscription pour le moment "))])])]),_:1}),o(M,{show:s(r),onClose:n[3]||(n[3]=t=>x(r)?r.value=!1:r=!1)},{default:u(()=>[e("form",{class:"p-10",onSubmit:$(A,["prevent"])},[Y,e("div",ee,[o(p,{for:"contenu",value:"Contenu de l'annonce"}),k(e("textarea",{"onUpdate:modelValue":n[1]||(n[1]=t=>s(a).contenu=t),class:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm w-full",rows:"3"},null,512),[[C,s(a).contenu]]),o(_,{class:"mt-2",message:s(a).errors.contenu},null,8,["message"])]),e("div",se,[o(p,{for:"dateFin",value:"Date de fin de l'annonce"}),o(S,{id:"dateFin",modelValue:s(a).dateFin,"onUpdate:modelValue":n[2]||(n[2]=t=>s(a).dateFin=t),type:"date",class:"mt-1 block w-full",required:"",autocomplete:"dateFin"},null,8,["modelValue"]),o(_,{class:"mt-2",message:s(a).errors.dateFin},null,8,["message"])]),e("div",te,[o(g,null,{default:u(()=>[v(" Valider "),s(a).processing?(d(),c("div",oe)):(d(),V(I,{key:1,size:20}))]),_:1})])],40,X)]),_:1},8,["show"]),o(M,{show:s(i),onClose:n[6]||(n[6]=t=>x(i)?i.value=!1:i=!1)},{default:u(()=>[e("form",{class:"p-10",onSubmit:$(D,["prevent"])},[le,e("div",ae,[o(p,{for:"contenu",value:"Contenu de l'annonce"}),k(e("textarea",{"onUpdate:modelValue":n[4]||(n[4]=t=>s(l).contenu=t),class:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm w-full",rows:"3"},null,512),[[C,s(l).contenu]]),o(_,{class:"mt-2",message:s(l).errors.contenu},null,8,["message"])]),e("div",re,[o(p,{for:"dateFin",value:"Date de fin de l'annonce"}),o(S,{id:"dateFin",modelValue:s(l).dateFin,"onUpdate:modelValue":n[5]||(n[5]=t=>s(l).dateFin=t),type:"date",class:"mt-1 block w-full",required:"",autocomplete:"dateFin"},null,8,["modelValue"]),o(_,{class:"mt-2",message:s(l).errors.dateFin},null,8,["message"])]),e("div",de,[o(g,null,{default:u(()=>[v(" Modifier "),s(l).processing?(d(),c("div",ie)):(d(),V(q,{key:1,size:20}))]),_:1})])],40,ne)]),_:1},8,["show"])],64))}};export{he as default};
