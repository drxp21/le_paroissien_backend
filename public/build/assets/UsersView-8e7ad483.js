import{d as x,T as v,o as u,c as N,w as m,b as t,u as e,Z as U,a as s,g as w,m as d,e as b,h as q,F as B,f as h,n as y,i as V,t as c}from"./app-73bfca16.js";import{_ as D}from"./AppLayout-cf194d8a.js";import{_ as p,a as f}from"./TextInput-3d2538f1.js";import{_}from"./InputLabel-7a081759.js";import{_ as k}from"./PrimaryButton-05ccbf87.js";import{_ as C}from"./Modal-4c4a3b9a.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Banner-a5df8d72.js";const F={class:"px-20"},M={class:"mt-10"},A=s("li",{class:"bg-[#cecece] rounded-t-lg py-3 flex justify-evenly items-center text-sm font-medium text-start"},[s("span",{class:"flex-[3] pl-3"},"Nom"),s("span",{class:"flex-[3] pl-3"}," Email"),s("span",{class:"flex-[3] pl-3"},"Ajouté le "),s("span",{class:"flex-[3] pl-3"},"Action")],-1),E={class:"flex-[3] pl-3"},z={class:"flex-[3] pl-3"},L={class:"flex-[3] pl-3"},R={class:"flex-[3] flex gap-3 text-white justify-start"},T=["onClick","disabled"],Z=["onSubmit"],G={class:"mt-4"},H={class:"mt-4"},I={class:"mt-4"},J={class:"flex items-center justify-end mt-4"},K=s("span",{class:"text-2xl font-medium"},"Supprimer le super-admin ",-1),O={class:"mt-4"},P={class:"mt-4"},Q={type:"submit",class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"},W={key:0,style:{"border-top-color":"transparent"},class:"ml-2 w-3 h-3 border-2 border-white border-solid rounded-full animate-spin bg-red-600"},re={__name:"UsersView",props:{admins:""},setup(g){let n=x(!1),r=x(!1);const i=v({id:"",name:""}),a=v({name:"",email:"",password:"",password_confirmation:"",terms:!1}),$=()=>{a.post(route("create_admin"),{onSuccess:()=>{a.reset("password","password_confirmation"),n.value=!1}})};return(S,o)=>(u(),N(D,null,{default:m(()=>[t(e(U),{title:"Utilisateurs"}),s("div",F,[t(k,{onClick:o[0]||(o[0]=l=>d(n)?n.value=!0:n=!0)},{default:m(()=>[w(" Ajouter un super-admin ")]),_:1}),s("ul",M,[A,g.admins.length>0?(u(!0),b(B,{key:0},q(g.admins,(l,j)=>(u(),b("li",{class:y(["py-2.5 flex justify- items-center text-sm font-medium hover:bg-[#b7b7b7] text-start",j%2==0?"bg-white":"bg-[#cecece]"])},[s("span",E,c(l.name),1),s("span",z,c(l.email),1),s("span",L,c(new Date(l.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})),1),s("div",R,[s("button",{onClick:()=>(d(r)?r.value=!0:r=!0,e(i).id=l.id,e(i).name=l.name),disabled:e(i).processing,class:"bg-red-700 px-4 py-2 self-start rounded-lg flex gap-0.5 items-center transition-all"}," Supprimer ",8,T)])],2))),256)):h("",!0)])]),t(C,{show:e(n),onClose:o[5]||(o[5]=l=>d(n)?n.value=!1:n=!1)},{default:m(()=>[s("form",{onSubmit:V($,["prevent"]),class:"p-10"},[s("div",null,[t(_,{for:"name",value:"Nom"}),t(p,{id:"name",modelValue:e(a).name,"onUpdate:modelValue":o[1]||(o[1]=l=>e(a).name=l),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),t(f,{class:"mt-2",message:e(a).errors.name},null,8,["message"])]),s("div",G,[t(_,{for:"email",value:"Email"}),t(p,{id:"email",modelValue:e(a).email,"onUpdate:modelValue":o[2]||(o[2]=l=>e(a).email=l),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),t(f,{class:"mt-2",message:e(a).errors.email},null,8,["message"])]),s("div",H,[t(_,{for:"password",value:"Mot de passe"}),t(p,{id:"password",modelValue:e(a).password,"onUpdate:modelValue":o[3]||(o[3]=l=>e(a).password=l),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue"]),t(f,{class:"mt-2",message:e(a).errors.password},null,8,["message"])]),s("div",I,[t(_,{for:"password_confirmation",value:"Confirmation"}),t(p,{id:"password_confirmation",modelValue:e(a).password_confirmation,"onUpdate:modelValue":o[4]||(o[4]=l=>e(a).password_confirmation=l),type:"password",class:"mt-1 block w-full",required:"",autocomplete:"new-password"},null,8,["modelValue"]),t(f,{class:"mt-2",message:e(a).errors.password_confirmation},null,8,["message"])]),s("div",J,[t(k,{class:y(["ml-4",{"opacity-25":e(a).processing}]),disabled:e(a).processing},{default:m(()=>[w(" Créer ")]),_:1},8,["class","disabled"])])],40,Z)]),_:1},8,["show"]),t(C,{show:e(r),onClose:o[7]||(o[7]=l=>d(r)?r.value=!1:r=!1)},{default:m(()=>[s("form",{class:"p-10",onSubmit:o[6]||(o[6]=V(()=>(e(i).delete(S.route("delete_admin",e(i).id)),d(r)?r.value=!1:r=!1),["prevent"]))},[K,s("div",O," Vous allez supprimer super-admin "+c(e(i).name)+" ! ",1),s("div",P,[s("button",Q,[w(" Confirmer "),e(i).processing?(u(),b("div",W)):h("",!0)])])],32)]),_:1},8,["show"])]),_:1}))}};export{re as default};
