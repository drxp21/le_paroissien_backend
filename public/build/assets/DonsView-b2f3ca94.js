import{d as k,T as b,o as i,e as m,b as n,w as p,u as s,m as y,F as M,Z as q,a as e,g as x,h as z,p as v,s as S,v as $,c as C,i as U,n as B,t as f}from"./app-dc519e83.js";import{_ as F}from"./AppLayout-1eab8f8c.js";import{_ as g}from"./PrimaryButton-feab8fd8.js";import{_ as u}from"./InputLabel-8edae622.js";import{a as d,_ as w}from"./TextInput-575ba810.js";import{P as R}from"./PencilOutline-d8c7051d.js";import{P as j}from"./Plus-0535cdbd.js";import{_ as P}from"./Modal-468b812b.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Banner-d393d2e5.js";const O={class:"px-20"},E={class:"mt-10"},L={class:"mt-10"},Z=e("li",{class:"bg-[#cecece] rounded-t-lg py-3 flex justify-evenly items-center text-sm font-medium text-start"},[e("span",{class:"flex-[3] pl-3"},"Auteur "),e("span",{class:"flex-[3] pl-3"},"Type de don "),e("span",{class:"flex-[2] pl-3"},"Montant"),e("span",{class:"flex-[2] pl-3"},"Intention "),e("span",{class:"flex-[2] pl-3"}," Mode de paiement")],-1),G={class:"flex-[3] pl-3"},H={class:"flex-[3] pl-3"},J={class:"flex-[2] pl-3 text-green-500"},K={class:"flex-[2] pl-3"},Q={class:"flex-[2] pl-3 capitalize"},W={key:1,class:"bg-[#b7b7b7] rounded-b-lg py-3 flex justify-evenly items-center text-sm font-medium text-start"},X=["onSubmit"],Y=e("span",{class:"text-2xl font-medium"},"Nouveau Soutien/Don",-1),ee={class:"mt-4"},te=e("option",{value:"pretres"},"Don aux prêtres",-1),se=e("option",{value:"paroisse"},"Soutenir une Paroisse",-1),oe=e("option",{value:"caritas"},"Caritas",-1),ne=e("option",{value:"denier"},"Denier de culte",-1),ae=e("option",{value:"dime"},"Dîme",-1),le=e("option",{value:"dieu"},"Offrande à Dieu",-1),re=e("option",{value:"autre"},"Autres",-1),ie=[te,se,oe,ne,ae,le,re],ue={class:"mt-4"},de={class:"mt-4"},me={class:"mt-4"},pe={class:"mt-4"},ce={key:0,style:{"border-top-color":"transparent"},class:"ml-2 w-3 h-3 border-2 border-white border-solid rounded-full animate-spin"},_e=["onSubmit"],fe=e("span",{class:"text-2xl font-medium"},"Renseigner un don physique",-1),ve={class:"mt-4"},he=e("option",{value:"pretres"},"Don aux prêtres",-1),be=e("option",{value:"paroisse"},"Soutenir une Paroisse",-1),ye=e("option",{value:"caritas"},"Caritas",-1),xe=e("option",{value:"denier"},"Denier de culte",-1),ge=e("option",{value:"dime"},"Dîme",-1),we=e("option",{value:"dieu"},"Offrande à Dieu",-1),De=e("option",{value:"autre"},"Autres",-1),Ve=[he,be,ye,xe,ge,we,De],ke={class:"mt-4"},Me={class:"mt-4"},Se={class:"mt-4"},$e={key:0,style:{"border-top-color":"transparent"},class:"ml-2 w-3 h-3 border-2 border-white border-solid rounded-full animate-spin"},Fe={__name:"DonsView",props:{dons:""},setup(D){let r=k(!1),c=k(!1),a=b({type:"",montant:"",auteur:"",intention:""}),l=b({id:"",type:"",montant:"",intention:""});b({id:""});const T=()=>{a.post(route("dons.store"),{onSuccess:()=>{a.reset(),r.value=!1}})},A=()=>{l.put(route("dons.update",l),{onSuccess:()=>{l.reset(),c.value=!1}})},I=_=>({pretres:"Don aux prêtres",paroisse:"Soutenir une Paroisse",caritas:"Caritas",denier:"Denier de culte",dime:"Dîme",dieu:"Offrande à Dieu",autre:"Autres"})[_],N=_=>{_+="";let o=_.split("."),t=o[0],h=o.length>1?"."+o[1]:"";for(var V=/(\d+)(\d{3})/;V.test(t);)t=t.replace(V,"$1.$2");return t+h};return(_,o)=>(i(),m(M,null,[n(F,null,{default:p(()=>[n(s(q),{title:"Dons"}),e("div",O,[e("div",E,[n(g,{onClick:o[0]||(o[0]=t=>y(r)?r.value=!0:r=!0)},{default:p(()=>[x(" Renseigner un don physique ")]),_:1})]),e("ul",L,[Z,D.dons.length>0?(i(!0),m(M,{key:0},z(D.dons,(t,h)=>(i(),m("li",{class:B(["py-2.5 flex justify- items-center text-sm font-medium hover:bg-[#b7b7b7] text-start",h%2==0?"bg-white":"bg-[#cecece]"])},[e("span",G,f(t.auteur),1),e("span",H,f(I(t.type)),1),e("span",J,f(N(t.montant))+" cfa ",1),e("span",K,f(t.intention),1),e("span",Q,f(t.operateur?t.operateur:"Espèces"),1)],2))),256)):(i(),m("li",W," Aucun don pour le moment "))])])]),_:1}),n(P,{show:s(r),onClose:o[5]||(o[5]=t=>y(r)?r.value=!1:r=!1)},{default:p(()=>[e("form",{class:"p-10",onSubmit:U(T,["prevent"])},[Y,e("div",ee,[n(u,{for:"type",value:"Type de don"}),v(e("select",{class:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm","onUpdate:modelValue":o[1]||(o[1]=t=>s(a).type=t)},ie,512),[[S,s(a).type]]),n(d,{class:"mt-2",message:s(a).errors.type},null,8,["message"])]),e("div",ue,[n(u,{for:"intention",value:"Intention"}),v(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=t=>s(a).intention=t),class:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm w-full",rows:"3"},null,512),[[$,s(a).intention]]),n(d,{class:"mt-2",message:s(a).errors.intention},null,8,["message"])]),e("div",de,[n(u,{for:"montant",value:"Montant"}),n(w,{id:"montant",modelValue:s(a).montant,"onUpdate:modelValue":o[3]||(o[3]=t=>s(a).montant=t),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"montant"},null,8,["modelValue"]),n(d,{class:"mt-2",message:s(a).errors.montant},null,8,["message"])]),e("div",me,[n(u,{for:"auteur",value:"Nom du donneur (Laisser vide pour un don anonyme)"}),n(w,{id:"auteur",modelValue:s(a).auteur,"onUpdate:modelValue":o[4]||(o[4]=t=>s(a).auteur=t),type:"text",class:"mt-1 block w-full",autocomplete:"auteur"},null,8,["modelValue"]),n(d,{class:"mt-2",message:s(a).errors.auteur},null,8,["message"])]),e("div",pe,[n(g,null,{default:p(()=>[x(" Renseigner "),s(a).processing?(i(),m("div",ce)):(i(),C(j,{key:1,size:20}))]),_:1})])],40,X)]),_:1},8,["show"]),n(P,{show:s(c),onClose:o[9]||(o[9]=t=>y(c)?c.value=!1:c=!1)},{default:p(()=>[e("form",{class:"p-10",onSubmit:U(A,["prevent"])},[fe,e("div",ve,[n(u,{for:"type",value:"Type de don"}),v(e("select",{class:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm","onUpdate:modelValue":o[6]||(o[6]=t=>s(l).type=t)},Ve,512),[[S,s(l).type]]),n(d,{class:"mt-2",message:s(l).errors.type},null,8,["message"])]),e("div",ke,[n(u,{for:"intention",value:"Intention"}),v(e("textarea",{"onUpdate:modelValue":o[7]||(o[7]=t=>s(l).intention=t),class:"border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm w-full",rows:"3"},null,512),[[$,s(l).intention]]),n(d,{class:"mt-2",message:s(l).errors.intention},null,8,["message"])]),e("div",Me,[n(u,{for:"montant",value:"Montant"}),n(w,{id:"montant",modelValue:s(l).montant,"onUpdate:modelValue":o[8]||(o[8]=t=>s(l).montant=t),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"montant"},null,8,["modelValue"]),n(d,{class:"mt-2",message:s(l).errors.montant},null,8,["message"])]),e("div",Se,[n(g,null,{default:p(()=>[x(" Modifier "),s(l).processing?(i(),m("div",$e)):(i(),C(R,{key:1,size:20}))]),_:1})])],40,_e)]),_:1},8,["show"])],64))}};export{Fe as default};
